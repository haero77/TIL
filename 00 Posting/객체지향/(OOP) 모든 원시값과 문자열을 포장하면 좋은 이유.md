
![객체지향_생활_체조_(3)모든_원시값과_문자열을_포장(wrap)_한다](https://github.com/haero77/Today-I-Learned/assets/65555299/273f4396-8578-4dde-a3b7-9261d6ef169f)


# 들어가며 

객체지향에 관심있다면, `객체지향 생활 체조` 라는 용어를 어디선가 들어봤을 것이다. 해당 용어는 *마틴 파울러*가  쓴 책 [<소트웍스 앤솔러지>](https://product.kyobobook.co.kr/detail/S000001514343) 에 소개된 내용으로, 쉽게 말하면 일정한 제약을 지키는 훈련을 통해 실생활에서도 자연스러운 객체지향 설계를 할 수 있도록 돕는 프로그래밍 방식이다. 그리고 그를 구성하는 9가지 원칙은 다음과 같다. (객체지향 생활 체조에 대한 더 자세한 내용은 [여기](https://developerfarm.wordpress.com/2012/01/26/object_calisthenics_1/)를 참고해주세요.)


1. 한 메서드에 오직 한 단계의 들여쓰기만 한다.
2. else 예약어(keyword)를 쓰지 않는다.
3. 모든 원시값과 문자열을 포장(wrap)한다.
4. 한 줄에 점을 하나만 찍는다.  
5. 줄여쓰지 않는다(축약 금지).
6. 모든 엔티티(entity)를 작게 유지한다.
7. 2개 이상의 인스턴스 변수를 가진 클래스를 쓰지 않는다.
8. 제일 클래스(first-class) 콜렉션(=일급 컬렉션)을 쓴다.
9. 게터(getter)/세터(setter)/프로퍼티(property)를 쓰지 않는다.


본 포스팅에서 다룰 내용은 `3. 모든 원시값과 문자열을 포장(wrap)한다.` 인데, 최근에와서야 이것을 오해하여 줄곧 잘못 이해하고 있었음을 깨닫게 되었다. 본 포스팅에서는 잘못 이해한 내용은 무엇인지, 해당 원칙을 제대로 지키려면 어떻게 해야하는지 살펴본다. 마지막으로, 거기에 더해 무조건 이 원칙을 지켜야할까에 대해서도 잠깐 고민해보자.



# 본문


## 내가 했던 오해: 여러 필드를 묶으면 그게 포장한 것 아니야?

여기, id 와 나이 속성을 갖는 한 회원이 있다고 하자. 

```java
public class Member {  
  
    private int id;  
    private int age;  
  
    public Member(int id, int age) {  
        this.id = id;  
        this.age = age;  
    }  
  
    public boolean ageEquals(int age) {  
        return this.age == age;  
    }  
  
}
```

캡슐화를 지키기 위해서 `age` 값에 직접 접근하지 못하게 막고, `ageEquals()` 처럼 필요하면 스스로의 값을 비교해서 응답해주는 메서드를 만들었다. 이렇게 만들고 보니까, 잘은 모르겠지만 `객체지향의 사실과 오해`에서 읽은 `메시지를 통해 협력한다.` 라는 말도 얼추 지켜지는 것 같고, 함부로 필드값도 바꿀 수 없게 되었다. 그래, 꽤 흡족스러운 모양새다.(~~그러면 안 됐다..~~). 그런데 문제는, 이 코드를 수정하거나 새로운 코드를 추가(특히 정적 팩토리 메서드)할 때 생기기 시작했다. 


### 타입이 같아서 헷갈린다

```java  
public class Member {  
  
    private int id;  
    private int age;  
  
    private Member(int id, int age) {  
        this.id = id;  
        this.age = age;  
    }  
  
}
```

회원의 나이만 입력받아 회원 객체를 만들고 싶어, `ageOf()` 라는 정적 팩토리 메서드를 만들었다.  


문제는 
라고도 할 수 있지만, 컴파일 에러가 생기지 않는 이런 논리적 오류가 
실수를 할 여지 자체를 줄이는 것이 좋은 방향일 것이다. 

분명히 모든 원시값 `id`, `age` 를 `Member` 라는 포장지로 잘 감쌌다고 생각했는데, 

## 하나 하나 포장하기

## 포장 안 하는 다른 방법은 없을까?

## 무조건 다 포장해야할까



## 마치며 

앞으로 기회가 될 때마다 모든 `객체지향 생활 체조` 원칙을 하나씩 파헤쳐보고자 한다. 이 체조를 열심히 하다보면 언젠가 본인도 모르게 객체지향적으로 짜고 있지 않을까 기대하며, 본 포스팅은 여기서 마친다.

*마침*

### 참고 

- [더 나은 소프트웨어를 향한 9단계: 객체지향 생활 체조(1) - 위키북스 공식](https://developerfarm.wordpress.com/2012/01/26/object_calisthenics_1/)
- [객체지향 생활 체조 총정리 - 위키북스 공식](https://developerfarm.wordpress.com/2012/02/03/object_calisthenics_summary/)
- [이유와 솔루션으로 정리하는 객체지향 생활체조 원칙](https://hudi.blog/thoughtworks-anthology-object-calisthenics/)